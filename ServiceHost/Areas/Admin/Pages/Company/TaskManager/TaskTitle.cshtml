@page
@using _0_Framework.Application
@model ServiceHost.Areas.Admin.Pages.Company.TaskManager.TaskTitleModel
@{
	Layout = "Shared/_AdminLayout";
	ViewData["title"] = "مدیریت وظایف";
}
<style>
	table tbody > tr > td p {
        font-size: 12px !important;
        text-align: center !important;
        vertical-align: middle;

    }
	 .select2-container .select2-selection--single {
        height: 34px;
    }
</style>
<div>
    <div>
        <div class="col-sm-12 m-r-10">
			<p>
				<a id="btnPopModal" href="#showmodal=@Url.Page("/Company/TaskManager/TaskTitle", "CreateOrEditTaskTitle")" class="btn btn-success btn-rounded waves-effect waves-light m-b-5" style=" background-color: #f5f5f5; border-color: #0f9500; font-family: 'Web_Yekan' !important; color: #0f9500 !important; margin-right: 10px "> <i class="fa fa-user-plus" style="padding-left: 3px; font-size: 14px; color: #0f9500 !important "></i> افزودن عنوان  جدید </a>
			</p>
		</div>
	</div>
	<div class="col-sm-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title"><i class="fa fa-list" style="padding-left: 3px; font-size: 14px"></i> لیست عناوین وظیفه </h3>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="col-sm-12 col-sm-12 col-xs-12">
                        <table id="datatable" class="table table-striped table-bordered">
                            <thead>
                                <tr>
                                    <th>#</th>

                                    <th style=" font-size: 10px; text-align: center"> عنوان وظیفه </th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
								@{ var i = 1; }
								@foreach(var item in Model.viewModels)
								{
                                    <tr>
                                        <td>@i</td>
                                        <td> 
                                            <p>@item.Title</p>    
                                        </td>
                                        <td>
											<a class="btn btn-warning pull-right m-rl-5 rad deact" href="#showmodal=@Url.Page("./TaskTitle", "CreateOrEditTaskTitle", new { Id = @item.Id })">
												<i class="fa fa-edit ionSize"></i>
											</a>
											@*<a class="btn btn-danger pull-right m-rl-5 rad deact" onclick="DeleteTaskTitle(@item.Id)">
												<i class="fa faSize fa-trash"></i>
											</a>*@
										</td>
                                    </tr>
									
									i++;
								}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



@section Script {
    <script src="~/AdminTheme/assets/js/site4.js"></script>
    <script src="~/adminTheme/assets/datatables/jquery.dataTables.min.js"></script>
    <script src="~/adminTheme/assets/datatables/dataTables.bootstrap.js"></script>
    <script>

		//function DeleteTaskTitle(id) { 

  //          swal({
  //              title: "",
  //              text: "آیا از حذف وظیفه اطمینان دارید؟",
  //              type: "warning",
  //              showCancelButton: true,
  //              confirmButtonColor: "#DD6B55",
  //              confirmButtonText: "بله",
  //              cancelButtonText: "خیر",
  //              closeOnConfirm: true,
  //              closeOnCancel: true
  //          }, function (isConfirm) {
  //              if (isConfirm) {
                  
  //                  $.ajax({
  //                      dataType: 'json',
  //                      type: 'POST',
  //                      url: '@Url.Page("./Index", "DeleteTaskTitle")',
  //                      headers: { "RequestVerificationToken": $('@Html.AntiForgeryToken()').val() },
  //                      data: { "id" : id },

  //                      success: function (response) {
  //                          console.log(response);
  //                          $.Notification.autoHideNotify('success', 'top center', 'پیام سیستم ', response.message);
  //                          setTimeout(function() { 
                            
  //                              location.reload();
  //                          }, 1200)
                
  //                      },
  //                      failure: function (response) {
  //                          console.log(5, response)
  //                          $.Notification.autoHideNotify('error', 'top center', 'پیام سیستم ', response.message);
  //                      }
  //                  });
                    
  //              }
  //          });
  //      }



    </script>    
}
